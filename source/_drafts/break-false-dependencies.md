---
title:      "打破伪依赖"
date:       2022-06-08 23:08:27
tags:
---

**TL;DR**

分布式系统、高并发系统中，为了保证正确性，我们要努力挖掘出数据间的各种显性或隐性的依赖，这些种种的 happen-before 就构成了一个个依赖关系图。顺着这些图去执行，我们就能天然保证数据按照某种预期（此处 at ACID、各种隔离级别）被修改、被感知。

但天下大事，分久必合，合久必分（有点跑题）。

根据 Amdahl 法则，并行系统加速的核心是提升并行度。但为了提升效率，我们又要从看似相互依赖、需要串行处理的数据中找出那些伪依赖，将一个串行流拆成多个并行、相互不依赖的串行流。最终，数据将正正好好按照我们需要的依赖关系组织起来，不多不少。

这种 tradeoff，就是工程的魅力。

<!--more-->

